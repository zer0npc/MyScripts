var body=$response.body;if(!body)$done({});try{var obj=JSON.parse(body);if(obj.responses&&obj.responses.length>0&&obj.responses[0].body){var innerBodyStr=obj.responses[0].body;var userData=JSON.parse(innerBodyStr);var now=Math.floor(Date.now()/1000);if(!userData.shopItems)userData.shopItems=[];userData.shopItems.push({"id":"gold_subscription","purchaseDate":now-10000,"purchasePrice":0,"subscriptionInfo":{"expectedExpiration":now+31536000,"productId":"com.duolingo.DuolingoMobile.subscription.Gold.TwelveMonth.24Q2Max.168","renewer":"APPLE","renewing":true,"tier":"twelve_month","type":"gold"}});userData.subscriberLevel="GOLD";userData.has_plus=true;if(!userData.trackingProperties)userData.trackingProperties={};userData.trackingProperties.has_item_immersive_subscription=true;userData.trackingProperties.has_item_premium_subscription=true;userData.trackingProperties.has_item_live_subscription=true;userData.trackingProperties.has_item_gold_subscription=true;userData.trackingProperties.has_item_max_subscription=true;obj.responses[0].body=JSON.stringify(userData);$done({body:JSON.stringify(obj)});}else{$done({});}}catch(e){$done({});}